{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Signup - Work Zone</title>
    <!-- GLightBox -->
    <link rel="stylesheet" href="{% static 'css/glightbox.min.css' %}" />
    <!-- Aos -->
    <link rel="stylesheet" href="{% static 'css/aos.css' %}" />
    <!-- Nice Select -->
    <link rel="stylesheet" href="{% static 'css/nice-select.css' %}" />
    <!-- Quill CSS -->
    <link href="{% static 'css/quill.core.css' %}" rel="stylesheet" />
    <link href="{% static 'css/quill.snow.css' %}" rel="stylesheet" />
    <!-- Bootstrap CSS -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet" />
    <!-- Font-awesome CSS -->
    <link href="{% static 'css/font-awesome-all.min.css' %}" rel="stylesheet" />
    <!-- Main CSS -->
    <link href="{% static 'css/style.css' %}" rel="stylesheet" />
    <!-- Responsive CSS -->
    <link href="{% static 'css/resposive.css' %}" rel="stylesheet" />
    <!-- Asegúrate de incluir el archivo CSS del widget de django-countries -->
    <link rel="stylesheet" href="{% static 'django_countries/css/country-select.css' %}">
</head>
<body>
    <!-- Header and Navbar -->
    <header class="header">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container">
              <a class="navbar-brand" href="#" style="margin-left: -35px;">
                <img src="{% static 'img/others/logoApp.png' %}" alt="Logo" style="height: 80px; width: auto;">
              </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Services</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Contact</a>
                        </li>
                    </ul>
                    <div class="d-flex">
                        <a href="/login" class="btn btn-primary">Login</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <div class="signup-banner" style="position: relative; text-align: left; overflow: hidden; height: 300px; width: 100%;">
        <img src="{% static 'img/others/freelancer.png' %}" alt="Signup Banner" style="width: 100%; height: 100%; object-fit: cover; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
        <h1 style="color: white; position: absolute; top: 70%; left: 2%; transform: translateY(-50%); font-size: 55px; z-index: 2;">Sign up</h1>
    </div>

    <!-- Signup Form -->
    <section class="py-110 bg-offWhite">
        <div class="container">
            <div class="mb-5" style="margin-top: -60px;">
                <div class="row justify-content-center">
                    <div class="col-auto">
                        <div class="d-flex align-items-center gap-3">
                            <a href="" class="w-form-btn">Freelancer</a>
                            <a href="" class="w-form-btn-outline">Buyer</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-3 p-3">
                <div class="row g-4">
                    <div class="col-lg-6 p-3 p-lg-5">
                        <div class="mb-40">
                            <h2 class="section-title mb-2">Sign up</h2>
                            <p class="section-desc">Welcome to NexTask</p>
                        </div>

                        <!-- Manejo de Errores -->
                        {% if form.errors %}
                        <div class="alert alert-danger">
                            <p>Por favor, corrige los siguientes errores:</p>
                            <ul>
                                {% for field in form %}
                                    {% for error in field.errors %}
                                        <li>{{ field.label }}: {{ error }}</li>
                                    {% endfor %}
                                {% endfor %}
                                {% for error in form.non_field_errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                        {% endif %}
                        
                        <!-- Formulario -->
                        <form method="POST" action="{% url 'register_freelancer' %}">
                            {% csrf_token %}
                            <div class="form-container">
                                <div class="row gy-3">
                                    <div class="form-input col-lg-6">
                                        <label for="username" class="form-label">Username <span class="text-lime-300">*</span></label>
                                        <input type="text" class="form-control shadow-none" id="username" name="username" placeholder="Username" required />
                                    </div>
                                    <div class="form-input col-lg-6">
                                        <label for="first_name" class="form-label">First Name <span class="text-lime-300">*</span></label>
                                        <input type="text" class="form-control shadow-none" id="first_name" name="first_name" placeholder="First Name" required />
                                    </div>
                                    <div class="form-input col-lg-6">
                                        <label for="last_name" class="form-label">Last Name <span class="text-lime-300">*</span></label>
                                        <input type="text" class="form-control shadow-none" id="last_name" name="last_name" placeholder="Last Name" required />
                                    </div>
                                    <div class="form-input col-lg-6">
                                        <label for="phone" class="form-label">Phone <span class="text-lime-300">*</span></label>
                                        <input type="text" class="form-control shadow-none" id="phone" name="phone" placeholder="Phone" required />
                                    </div>
                                    <div class="form-input col-lg-6">
                                        <label for="email" the form-label">Email <span class="text-lime-300">*</span></label>
                                        <input type="email" class="form-control shadow-none" id="email" name="email" placeholder="demo@email.com" required />
                                    </div>
                                    <div class="form-input col-lg-6">
                                        <label for="country" class="form-label">Country <span class="text-lime-300">*</span></label>
                                        {{ form.country }}
                                    </div>
                                    <div class="form-input col-lg-6">
                                        <label for="city" class="form-label">City <span class="text-lime-300">*</span></label>
                                        <input type="text" class="form-control shadow-none" id="city" name="city" placeholder="City" required />
                                    </div>
                                    <div class="form-input col-lg-12">
                                        <label for="address" the form-label">Address <span class="text-lime-300">*</span></label>
                                        <input type="text" class="form-control shadow-none" id="address" name="address" placeholder="Address" required />
                                    </div>
                                    <div class="form-input col-lg-12">
                                        <label for="password1" the form-label">Password <span class="text-lime-300">*</span></label>
                                        <input type="password" class="form-control shadow-none" id="password1" name="password1" placeholder="Password" required />
                                    </div>
                                    <div class="form-input col-lg-12">
                                        <label for="password2" class="form-label">Confirm Password <span class="text-lime-300">*</span></label>
                                        <input type="password" class="form-control shadow-none" id="password2" name="password2" placeholder="Confirm Password" required />
                                    </div>
                                </div>
                                <div class="d-grid mt-4">
                                    <button class="w-btn-secondary-lg" type="submit" id="submit-btn">Create Account</button>
                                </div>
                            </div>
                        </form>
                        
                        <div class="mt-3">
                            <p class="text-center form-text">
                                Already have an account? <a href=" "> Login </a> 
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="login-img">
                            <img src="{% static 'img/others/singup.png' %}" class="img-fluid w-100" alt="Signup Image" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Bootstrap JS and dependencies -->
    <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
    <!-- Main JS -->
    <script src="{% static 'js/main.js' %}"></script>

    <!-- Script para evitar múltiples envíos de formularios -->
    <script>
        document.querySelector('form').addEventListener('submit', function() {
            const submitButton = document.getElementById('submit-btn');
            submitButton.disabled = true;  // Deshabilitar el botón después de hacer clic para evitar múltiples envíos
        });
    </script>
</body>
</html>
<!-- Asegúrate de incluir el archivo CSS del widget de django-countries -->
<link rel="stylesheet" href="{% static 'django_countries/css/country-select.css' %}">