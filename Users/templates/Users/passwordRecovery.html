{% extends 'NextTask/base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% load i18n %}

{% block content %}
    <title>Password Recovery - NextTask</title>   
    <main>
        <!-- Breadcrumb Area -->
        <div class="container">
          <div class="row">
            <div class="col-auto">
              <div class="position-relative z-2" data-aos="fade-up" data-aos-duration="1000" data-aos-easing="linear">
                <h2 class="section-title-light mb-2">{% trans "Password Recovery" %}</h2>
                <nav aria-label="breadcrumb">
                  <ol class="breadcrumb w-breadcrumb">
                    <li class="breadcrumb-item"><a href="{% url 'home' %}">{% trans "Home" %}</a></li>
                    <li class="breadcrumb-item"><a href="{% url 'login' %}">{% trans "Login" %}</a></li>
                    <li class="breadcrumb-item active" aria-current="page">{% trans "Password Recovery" %}</li>
                  </ol>
                </nav>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Password Recovery Section -->
        <section class="py-110 bg-offWhite">
          <div class="container">
            <div class="bg-white rounded-3 p-5 shadow-sm" style="max-width: 650px; margin: 0 auto;">
              <!-- Header -->
              <div class="text-center mb-40">
                <h2 class="section-title mb-2">{% trans "Password Recovery" %}</h2>
                <p class="section-desc">{% trans "Please enter your email address to search for your account." %}</p>
              </div>

              <!-- Displaying messages for errors or success -->
              {% if messages %}
              <div class="alert alert-info">
                {% for message in messages %}
                  {{ message }}
                {% endfor %}
              </div>
              {% endif %}
              
              <!-- Password Recovery Form -->
              <form method="post">
                {% csrf_token %}
                
                <!-- Email Input Field -->
                <div class="mb-3">
                  <input type="email" id="id_email" name="email" class="form-control" required placeholder="{% trans 'Enter your email address' %}">
                  
                  {% if form.email.errors %}
                    <div class="text-danger">
                      {% for error in form.email.errors %}
                        <small>{{ error }}</small><br>
                      {% endfor %}
                    </div>
                  {% endif %}
                </div>

                <br>
                <!-- Submit Button -->
                <button type="submit" id="submit-btn" class="custom-btn w-100 py-3">{% trans "Send Verification Code" %}</button>
              </form>

              <!-- Back to Login Link -->
              <div class="mt-4 text-center">
                <a href="{% url 'login' %}" class="form-text">{% trans "Back to login" %}</a>
              </div>
            </div>
          </div>
        </section>
    </main>

    <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>

    <!-- Custom CSS for styling -->
    <style>
      /* Estilo para que los campos tengan el mismo borde redondeado */
      input {
        border-radius: 50px; /* Bordes redondeados */
        border: 1px solid #ccc;
        padding: 16px 24px; /* Espacio interno más grande */
        width: 100%; /* Que ocupe el 100% del contenedor */
        box-sizing: border-box; /* Incluir padding y borde en el tamaño total del campo */
      }

      /* Estilos para el botón de enviar */
      .custom-btn {
        background-color: #4CAF50; /* Color personalizado */
        border: none;
        color: white;
        transition: background-color 0.3s ease;
        padding: 12px 0; /* Más padding para agrandar el botón */
      }
      
      .custom-btn:hover {
        background-color: #45a049; /* Color cuando el mouse pasa por encima */
      }

      .form-label {
        font-weight: 600; /* Estilo para etiquetas del formulario */
      }
    </style>
{% endblock %}
