{% extends 'Users/baseClient.html' %}
{% load static %}

{% block content %}
<head>
    <!-- django-quill-editor Media -->
    {% include 'django_quill/media.html' %}
</head>

<!-- Page Header -->
<div>
    <h3 class="text-24 fw-bold text-dark-300 mb-2">Milestone Details: {{ milestone.title }}</h3>
    <ul class="d-flex align-items-center gap-2">
        <li class="text-dark-200 fs-6">Dashboard</li>
        <li>
            <svg xmlns="http://www.w3.org/2000/svg" width="5" height="11" viewBox="0 0 5 11" fill="none">
                <path d="M1 10L4 5.5L1 1" stroke="#5B5B5B" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
        </li>
        <li class="text-lime-300 fs-6">Milestone Details</li>
    </ul>
</div>

<!-- Milestone Info -->
<div class="row justify-content-center">
    <div class="col-xl-8">
        <div class="d-flex flex-column gap-4">
            <!-- Milestone Info Card -->
            <div class="gig-info-card">
                <div class="gig-info-header">
                    <h4 class="text-18 fw-semibold text-dark-300">Milestone Info</h4>
                </div>
                <div class="gig-info-body bg-white">
                    <div class="row g-4">
                        <!-- Título del hito -->
                        <div class="col-12">
                            <div class="form-container">
                                <label class="form-label">Milestone Title</label>
                                <div class="form-control shadow-none readonly-field">{{ milestone.title }}</div>
                            </div>
                        </div>
                        <!-- Fecha de vencimiento -->
                        <div class="col-md-6">
                            <div class="form-container">
                                <label class="form-label">Due Date</label>
                                <div class="form-control shadow-none readonly-field">{{ milestone.due_date }}</div>
                            </div>
                        </div>
                        <!-- Categoría -->
                        <div class="col-md-6">
                            <div class="form-container">
                                <label class="form-label">Category</label>
                                <div class="form-control shadow-none readonly-field">{{ milestone.get_category_display }}</div>
                            </div>
                        </div>
                        <!-- Archivo -->
                        <div class="col-12">
                            <div class="form-container">
                                <label class="form-label">File</label>
                                {% if milestone.file %}
                                    <a href="{{ milestone.file.url }}" class="btn btn-outline-info">Download File</a>
                                {% else %}
                                    <p>No file uploaded</p>
                                {% endif %}
                            </div>
                        </div>
                        <!-- Descripción -->
                        <div class="col-12">
                            <div class="form-container">
                                <label class="form-label">Description</label>
                                <div>{{ milestone.description.html|safe }}</div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>

            <!-- Botones de navegación -->
            <div class="button-group">
                <a href="{% url 'project_detail' milestone.project.id %}" class="w-btn-danger-lg">
                    Back to Project
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="10" viewBox="0 0 14 10" fill="none">
                        <path d="M9 9L13 5M13 5L9 1M13 5L1 5" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </a>
            </div>
        </div>
    </div>
</div>

<style>
    .readonly-field {
        border: 2px solid #ccc;
        border-radius: 10px;
        padding: 10px;
        background-color: #f5f5f5;
        color: #333;
        cursor: not-allowed;
        min-height: 40px;
        display: flex;
        align-items: center;
    }

    .ql-container {
        border: 2px solid #ccc;
        border-radius: 10px;
        min-height: 300px;
        padding: 10px;
    }

    .ql-editor {
        min-height: 280px;
        font-size: 16px;
        border: 2px solid #ccc;
        border-radius: 10px;
    }
</style>

{% endblock %}
